{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const localStorageKey = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nlet formData = { email: '', message: '' };\n\nconst fillFormFromLS = () => {\n  try {\n    if (!localStorage.length) {\n      return;\n    }\n\n    const dataLS = JSON.parse(localStorage.getItem(localStorageKey));\n\n    formData = dataLS;\n\n    for (const key in dataLS) {\n      form.elements[key].value = dataLS[key];\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nfillFormFromLS();\n\nconst onFormElementInput = event => {\n  const {\n    target: { name: elementName, value: elementValue },\n  } = event;\n\n  formData[elementName] = elementValue.trim();\n\n  localStorage.setItem(localStorageKey, JSON.stringify(formData));\n};\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n  if (!formData.email.length || !formData.message.length) {\n    alert('Fill please all fields');\n    return;\n  }\n  console.log(formData);\n  formData = { email: '', message: '' };\n  event.currentTarget.reset();\n  localStorage.removeItem(localStorageKey);\n};\n\nform.addEventListener('input', onFormElementInput);\n\nform.addEventListener('submit', onFormSubmit);\n"],"names":["localStorageKey","form","formData","fillFormFromLS","dataLS","key","error","onFormElementInput","event","elementName","elementValue","onFormSubmit"],"mappings":"wFAAA,MAAMA,EAAkB,sBAClBC,EAAO,SAAS,cAAc,gBAAgB,EACpD,IAAIC,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EAEvC,MAAMC,EAAiB,IAAM,CAC3B,GAAI,CACF,GAAI,CAAC,aAAa,OAChB,OAGF,MAAMC,EAAS,KAAK,MAAM,aAAa,QAAQJ,CAAe,CAAC,EAE/DE,EAAWE,EAEX,UAAWC,KAAOD,EAChBH,EAAK,SAASI,CAAG,EAAE,MAAQD,EAAOC,CAAG,CAExC,OAAQC,EAAO,CACd,QAAQ,IAAIA,CAAK,CAClB,CACH,EAEAH,IAEA,MAAMI,EAAqBC,GAAS,CAClC,KAAM,CACJ,OAAQ,CAAE,KAAMC,EAAa,MAAOC,CAAc,CACnD,EAAGF,EAEJN,EAASO,CAAW,EAAIC,EAAa,KAAI,EAEzC,aAAa,QAAQV,EAAiB,KAAK,UAAUE,CAAQ,CAAC,CAChE,EAEMS,EAAeH,GAAS,CAE5B,GADAA,EAAM,eAAc,EAChB,CAACN,EAAS,MAAM,QAAU,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,wBAAwB,EAC9B,MACD,CACD,QAAQ,IAAIA,CAAQ,EACpBA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACnCM,EAAM,cAAc,QACpB,aAAa,WAAWR,CAAe,CACzC,EAEAC,EAAK,iBAAiB,QAASM,CAAkB,EAEjDN,EAAK,iBAAiB,SAAUU,CAAY"}